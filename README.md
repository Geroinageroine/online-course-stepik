# [Соревнование Stepik ML](https://stepik.org/course/4852/info)

Нужно было предсказать, сможет ли пользователь успешно закончить онлайн курс "Анализ данных в R". Результатом проверки точности предсказаний было значение ROC AUC score. В качестве алгоритма использован **RandomForest** и **Catboost**

## Данные

### Для обучения
- **/datasets/event_data_train.zip** — данные о действиях, которые совершают студенты со стэпами:
  - step_id - id стэпа
  - user_id - анонимизированный id юзера.
  - timestamp - время наступления события в формате unix date.
  - action - событие, возможные значения:
    - started_attempt - начало попытки решить.
    - passed - удачное решение практического шага.

- **/datasets/submissions_data_train.zip** — данные о времени и статусах сабмитов к практическим заданиям:
  - step_id - id стэпа.
  - timestamp - время отправки решения в формате unix date.
  - submission_status - статус решения.
  - user_id - анонимизированный id юзера.

### Для предсказания
- **/datasets/event_data_test.zip** — как и *event_data_train.zip*, но содержит данные за первые 2 дня.

- **/datasets/submissions_data_test.zip** — как и *submissions_data_train.zip*, но содержит данные за первые 2 дня.


## X, y

X-признаки:
- user_id - анонимизированный id юзера.
- correct - правильный ответ юзера
- wrong - неправильный ответ
- discovered - пользователь перешел на стэп
- viewed - просмотр шага,
- started_attempt - начало попытки решить шаг, ранее нужно было явно нажать на кнопку - начать решение, перед тем как приступить к решению практического шага
- passed - удачное решение практического шага
- correct_ratio - доля правильных ответов к неправильным ответам
- steps_tried - количество уникальных шагов, которые пользователь пытался выполнить
- days - количество уникальных дней

y-цель:
- Если юзер сделал 40 практический заданий, то будем считать, что он пройдет курс до конца


## Результаты
В финале формируется csv файл с оценкой веростности классов
Пример таблицы с результатами:

|user_id|is_gone|
|----|------|
|4  |0.0|
|6  |0.0|
|10| 0.0
|12| 0.127497|
|13| 0.575196|



## Результат соревнования на тестовой выборке
**ROC AUC: 0.8908**. Топ 5 среди участников (Топ 1 0.894)

**P.S. CatBoostClassifier оказался лучше, чем RandomForestClassifier  0.00137**

<!---
Вспомогательные Функции
"""Фильтруем данные до порогового значения времени"""
"""Создаем датасет с базовыми фичами: действия user
и правильные\неправильные ответы в колонке submission_status"""
"""Вычисление целевой переменной. Если user сделал 40 практический заданий,
 то будем считать, что он пройдет курс до конца"""
 """Создание временных фичей"""
 """Создание фичи с количеством уникальных шагов, которые пользователь пытался выполнить"""
 """Создание фичи с долей правильных ответов"""

создание датасетов
create_df """функция для формирования X датасета и y с целевыми переменными"""

create_test_df """функция для формирования test датасета без целевой переменной"""
-->
